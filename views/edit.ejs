<!DOCTYPE html>
<html>
  <head>
    <title>Edit Article</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="/css/styles.css" />

    <link rel="stylesheet" href="/summernote/summernote-bs4.css" />
  </head>
  <body>
    <div class="container">
      <h1><%= type === "article" ? "Edit Article" : "Edit Draft" %></h1>
      <form
        action="<%= type === 'article' ? '/author/edit/article/' + content.article_id : '/author/edit/draft/' + content.draft_id %>"
        method="POST"
      >
        <!-- hidden input field that holds the correct id value -->
        <input
          type="hidden"
          name="id"
          value="<%= type === 'article' ? content.article_id : content.draft_id %>"
        />
        <%= console.log("edit article ID: " + content.article_id)%> <%=
        console.log("edit draft ID: " + content.draft_id)%>

        <div class="mb-3">
          <label for="article-title" class="form-label">Title:</label>
          <input
            type="text"
            class="form-control"
            id="article-title"
            name="title"
            value="<%= content.title %>"
          />
        </div>

        <div class="mb-3">
          <label for="article-subtitle" class="form-label">Subtitle:</label>
          <input
            type="text"
            class="form-control"
            id="article-subtitle"
            name="subtitle"
            value="<%= content.subtitle %>"
          />
        </div>

        <div class="mb-3">
          <label for="article-text" class="form-label">Text:</label>
          <textarea class="summernote-editor" id="article-text" name="content">
<%= content.text %></textarea
          >
        </div>
        <button type="submit" class="btn btn-primary">Submit Changes</button>
      </form>

      <a href="/author/home" class="btn btn-secondary mt-3">Back to Home</a>
    </div>
    <!-- Footer-->
    <footer class="border-top">
      <div class="container px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
          <div class="col-md-10 col-lg-8 col-xl-7">
            <ul class="list-inline text-center">
              <li class="list-inline-item">
                <a href="www.twitter.com">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li class="list-inline-item">
                <a href="www.facebook.com">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-facebook-f fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li class="list-inline-item">
                <a href="www.github.com!">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
            </ul>
            <div class="small text-center text-muted fst-italic">
              Copyright &copy; CS Students Hub
            </div>
          </div>
        </div>
      </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0"></script>
    <script src="/summernote/summernote-bs4.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      $(document).ready(function () {
        // Initialize Summernote on the textarea with the .summernote-editor class
        $(".summernote-editor").summernote();
      });
    </script>
    <script src="/js/scripts.js"></script>
  </body>
</html>
